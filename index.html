<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const musica = document.getElementById("musica");

let escalaYes = 1;
let escalaNo = 1;

// Activar mÃºsica en primer toque
document.body.addEventListener("click", ()=>{
    musica.play().catch(()=>{});
},{once:true});

// BOTÃ“N NO huye y se hace mÃ¡s pequeÃ±o
noBtn.addEventListener("mouseover", mover);
noBtn.addEventListener("touchstart", mover);
noBtn.addEventListener("click", mover);

function mover(){
    const x=Math.random()*(window.innerWidth-120);
    const y=Math.random()*(window.innerHeight-60);
    noBtn.style.left=x+"px";
    noBtn.style.top=y+"px";

    // SÃ crece
    escalaYes+=0.2;
    yesBtn.style.transform="scale("+escalaYes+")";

    // NO se encoje
    escalaNo-=0.1;
    if(escalaNo < 0.2){
        escalaNo = 0.2; // tamaÃ±o mÃ­nimo
    }
    noBtn.style.transform="scale("+escalaNo+")";

    if(navigator.vibrate){
        navigator.vibrate(200);
    }
}

// CUANDO DICE SÃ
yesBtn.addEventListener("click", ()=>{
    document.body.innerHTML="";
    document.body.style.background="linear-gradient(135deg,#ff007f,#ffb6d9)";

    const carta=document.createElement("div");
    carta.className="carta";
    carta.innerHTML=`
    <h2>ğŸ’Œ SABÃA QUE DIRÃAS QUE SÃ ğŸ’Œ</h2>
    <p>Estoy tan contento y emocionado de que serÃ¡ nuestro primer San ValentÃ­n juntos,
    en nuestro nidito de amor. QuÃ© alegrÃ­a compartirlo contigo, pero sobre todo
    despertarlo a tu lado. ğŸ’•âœ¨</p>
    <h3>Ahora oficialmente eres mi San ValentÃ­n ğŸ’–</h3>
    <h3>Posdata: Te amo ğŸ’–</h3>
    `;
    document.body.appendChild(carta);

    lanzar("ğŸˆ",20);
    lanzar("ğŸ’–",20);
    lanzar("ğŸ¶",20);
    lanzar("ğŸ£",20);
    lanzar("ğŸ¼",20);
    lanzarFuegos();
});

function lanzar(emoji,cantidad){
    for(let i=0;i<cantidad;i++){
        let e=document.createElement("div");
        e.className="emoji";
        e.innerHTML=emoji;
        e.style.left=Math.random()*100+"vw";
        e.style.animationDuration=(Math.random()*3+2)+"s";
        document.body.appendChild(e);
    }
}

function lanzarFuegos(){
    for(let i=0;i<20;i++){
        let f=document.createElement("div");
        f.className="firework";
        f.innerHTML="âœ¨";
        f.style.left=Math.random()*100+"vw";
        f.style.top=Math.random()*100+"vh";
        document.body.appendChild(f);
    }
}
</script>
